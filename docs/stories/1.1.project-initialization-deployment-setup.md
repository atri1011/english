# Story 1.1: 项目初始化与部署设置

## Status
approved

## Story
**As a** 项目所有者,  
**I want** 一个初始化好的 Next.js Monorepo 项目，并将其配置好在 Vercel 上进行自动化部署,  
**so that** 我们拥有一个稳固的、具备持续集成/持续部署（CI/CD）能力的技术基础和一个可供后续开发的实时网址。

## Acceptance Criteria
1. 一个新的 Monorepo 仓库已创建，其中包含一个使用 Next.js 和 TypeScript 的 Web 应用包。
2. 项目已连接到一个 Git 仓库（如 GitHub）。
3. 一个基础的欢迎页面或应用入口已成功部署到一个 Vercel 的公开 URL 上。
4. Vercel 部署流程已配置为在代码推送到主分支时自动触发。

## Tasks / Subtasks
- [ ] Task 1: Set up Monorepo structure (AC: 1)
  - [ ] Create root directory with package.json and workspaces configuration
  - [ ] Set up apps/web directory for Next.js application
  - [ ] Set up packages/shared-types directory for TypeScript types
  - [ ] Configure TypeScript root configuration
- [ ] Task 2: Initialize Next.js Web Application (AC: 1)
  - [ ] Create Next.js app with TypeScript in apps/web
  - [ ] Install required dependencies per tech stack requirements
  - [ ] Configure next.config.mjs according to project standards
  - [ ] Set up basic project structure following unified project structure
- [ ] Task 3: Create basic welcome page (AC: 3)
  - [ ] Implement welcome page at apps/web/app/page.tsx
  - [ ] Add basic styling with Tailwind CSS
  - [ ] Include project title and basic navigation structure
- [ ] Task 4: Configure Git repository (AC: 2)
  - [ ] Initialize Git repository
  - [ ] Create .gitignore file with Next.js and Node.js patterns
  - [ ] Create initial commit with project structure
  - [ ] Connect to remote GitHub repository
- [ ] Task 5: Set up Vercel deployment (AC: 3, 4)
  - [ ] Connect GitHub repository to Vercel
  - [ ] Configure build settings for monorepo (apps/web)
  - [ ] Deploy initial version and verify public URL access
  - [ ] Configure automatic deployments on main branch pushes
- [ ] Task 6: Testing setup and validation (AC: All)
  - [ ] Set up Jest and React Testing Library for apps/web
  - [ ] Write basic test for welcome page component
  - [ ] Verify build process works correctly
  - [ ] Test deployment pipeline

## Dev Notes

### Previous Story Insights
No previous stories exist - this is the foundational story.

### Tech Stack Requirements
[Source: architecture/3-tech-stack.md]
- **Frontend Language**: TypeScript ~5.4.5
- **Frontend Framework**: Next.js ~14.2.3
- **UI Components**: Shadcn/ui ~0.8.0 (to be set up in future stories)
- **CSS Framework**: Tailwind CSS ~3.4.3
- **Testing**: Jest + React Testing Library ~29.7.0
- **CI/CD**: Vercel with automatic deployment
- **Repository Structure**: Monorepo with npm workspaces

### Project Structure Requirements
[Source: architecture/8-unified-project-structure.md]
Must create the following monorepo structure:
```
ai-sentence-app/
├── apps/
│   └── web/                     # Next.js全栈应用
│       ├── app/
│       │   ├── layout.tsx
│       │   ├── page.tsx         # Welcome/landing page
│       │   └── globals.css
│       ├── components/
│       │   └── ui/              # Future Shadcn/ui components
│       ├── lib/
│       │   └── utils.ts
│       ├── public/
│       └── next.config.mjs
├── packages/
│   └── shared-types/            # Shared TypeScript types
│       └── src/
│           └── index.ts
├── .env.local.example           # Environment variables template
├── package.json                 # Root package.json with workspaces
└── tsconfig.json                # Root TypeScript config
```

### Architectural Context
[Source: architecture/2-high-level-architecture.md]
- **Platform**: Vercel + Supabase (Supabase setup in future stories)
- **Architecture Pattern**: Serverless + Jamstack
- **Repository**: Monorepo with npm workspaces
- **Deployment**: Vercel with global CDN hosting

### Coding Standards
[Source: architecture/11-coding-standards.md]
- Use Prettier for code formatting
- Use ESLint for static code analysis with TypeScript and React rules
- Shared types must be in packages/shared-types
- Environment variables accessed through centralized config module (not direct process.env)

### Testing Standards
[Source: architecture/10-testing-strategy.md]
- **Unit Testing**: Jest + React Testing Library
- **Test Organization**: Test files co-located with source files (.test.tsx)
- **Frontend Testing**: Component rendering, state, and user interactions
- **Testing Directory**: For E2E tests (future): apps/web/e2e

### File Locations and Naming Conventions
Based on unified project structure:
- Main app entry: `apps/web/app/page.tsx`
- Layout: `apps/web/app/layout.tsx`
- Styles: `apps/web/app/globals.css`
- Config: `apps/web/next.config.mjs`
- Root config: `package.json` (workspaces), `tsconfig.json`
- Shared types: `packages/shared-types/src/index.ts`

### Technical Constraints
- Must use exact versions specified in tech stack
- No Supabase integration in this story (handled in story 1.2)
- Focus on project foundation and deployment pipeline
- Welcome page should be simple but follow project structure standards

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-02 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results
*Results from QA Agent review will be added here*